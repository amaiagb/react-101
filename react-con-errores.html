<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colección de Videojuegos - EJERCICIO PARA ARREGLAR</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 p-5">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        /*  COMPONENTE 1: Header - ERROR AQUÍ  */
        const Header = ({ titulo }) => {
            return (
                <div className="bg-white p-5 rounded-lg mb-5 text-center">
                    <h1 className="text-purple-800 mb-2 text-3xl font-bold">{titulo}</h1>
                    <p className="text-gray-700">Gestiona tu colección de videojuegos</p>
                    
                    <div className="bg-purple-100 p-4 rounded mt-4 flex justify-around">
                        <div className="text-center">
                            <strong className="block text-2xl text-purple-500">6</strong>
                            <span className="text-gray-700">Total Juegos</span>
                        </div>
                        <div className="text-center">
                            <strong className="block text-2xl text-purple-500">0</strong>
                            <span className="text-gray-700">Jugados</span>
                        </div>
                    </div>
                </div>
            );
        };

        /*  COMPONENTE 2: FormularioJuego -  ERROR AQUÍ */
        const FormularioJuego = ({ onAgregar }) => {
            const titulo = '';
            const desarrollo = '';
            const año = '';

            const handleSubmit = (e) => {
                e.preventDefault();
                
                if (titulo && desarrollo && año) {
                    onAgregar({
                        titulo,
                        desarrollo,
                        año: parseInt(año)
                    });
                }
            };

            return (
                <div className="bg-white p-5 rounded-lg mb-5">
                    <h2 className="text-purple-800 mb-4 text-2xl font-bold">Agregar nuevo juego</h2>
                    <form onSubmit={handleSubmit}>
                        <div className="flex flex-wrap gap-4 mb-4">
                            <div className="flex-1 min-w-[200px] flex flex-col">
                                <label className="mb-1 text-purple-600 font-bold">Título:</label>
                                <input 
                                    type="text"
                                    placeholder="Ej: Tetris"
                                    className="p-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-purple-500"
                                />
                            </div>
                            <div className="flex-1 min-w-[200px] flex flex-col">
                                <label className="mb-1 text-purple-600 font-bold">Desarrollo:</label>
                                <input 
                                    type="text"
                                    placeholder="Ej: Alexey Pajitnov"
                                    className="p-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-purple-500"
                                />
                            </div>
                            <div className="flex-1 min-w-[200px] flex flex-col">
                                <label className="mb-1 text-purple-600 font-bold">Año:</label>
                                <input 
                                    type="number"
                                    placeholder="Ej: 1984"
                                    className="p-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-purple-500"
                                />
                            </div>
                        </div>
                        <button type="submit" className="w-full p-2.5 bg-purple-600 text-white border-none rounded text-base hover:bg-purple-800 cursor-pointer">
                            Agregar juego a la colección
                        </button>
                    </form>
                </div>
            );
        };

        /* COMPONENTE 3: JuegoCard - ERROR AQUÍ */
        const JuegoCard = ({ titulo, desarrollo, año }) => {
            let vecesJugado = 0;

            const marcarComoJugado = () => {
                vecesJugado = vecesJugado + 1;
                console.log("Jugado:", vecesJugado);
            };

            return (
                <div className="bg-white rounded-lg p-5 flex-1 min-w-[280px]">
                    <h3 className="text-purple-800 mb-2 text-xl font-bold">{titulo}</h3>
                    <p className="text-purple-700 italic mb-2.5">por {desarrollo}</p>
                    <p className="text-purple-500 text-sm mb-4">Año {año}</p>
                    
                    <div className="flex gap-2.5">
                        <button 
                            className="flex-1 p-2 border-none rounded cursor-pointer text-sm bg-purple-300 text-white hover:bg-purple-400"
                            onClick={marcarComoJugado}
                        >
                            Jugado <span className="font-bold ml-1">({vecesJugado})</span>
                        </button>
                    </div>
                </div>
            );
        };

        /* COMPONENTE 4: App (Principal) */
        const App = () => {
            const [juegos, setJuegos] = useState([
                {
                    id: 1,
                    titulo: "Pac-Man",
                    desarrollo: "Namco",
                    año: 1980
                },
                {
                    id: 2,
                    titulo: "Space Invaders",
                    desarrollo: "Taito",
                    año: 1978
                },
                {
                    id: 3,
                    titulo: "Donkey Kong",
                    desarrollo: "Nintendo",
                    año: 1981
                },
                {
                    id: 4,
                    titulo: "Street Fighter II",
                    desarrollo: "Capcom",
                    año: 1991
                },
                {
                    id: 5,
                    titulo: "Galaga",
                    desarrollo: "Namco",
                    año: 1981
                },
                {
                    id: 6,
                    titulo: "Frogger",
                    desarrollo: "Konami",
                    año: 1981
                }
            ]);

            const [totalJugados, setTotalJugados] = useState(0);

            const agregarJuego = (nuevoJuego) => {
                const juegoConId = {
                    ...nuevoJuego,
                    id: Date.now()
                };
                setJuegos([...juegos, juegoConId]);
            };

            const incrementarJugados = () => {
                setTotalJugados(totalJugados + 1);
            };

            return (
                <div className="max-w-6xl mx-auto">
                    <Header 
                        titulo="Mi Colección de Videojuegos Arcade"
                    />

                    <FormularioJuego onAgregar={agregarJuego} />

                    <div className="flex flex-wrap gap-5">
                        {juegos.map(juego => (
                            <JuegoCard
                                key={juego.id}
                                titulo={juego.titulo}
                                desarrollo={juego.desarrollo}
                                año={juego.año}
                            />
                        ))}
                    </div>
                </div>
            );
        };

        // Renderizar la aplicación
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>